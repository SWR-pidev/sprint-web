
{% extends 'default/Back/squelette.html.twig' %}

{% block content %}
    <div class="container-fluid" >

    <!-- Page Heading -->
        <div class="d-sm-flex align-items-center justify-content-between mb-4">
            <h1 class="h3 mb-0 text-gray-800">Add Event</h1>
            <a href="{{ path('event_space') }}" class="d-none d-sm-inline-block btn btn-sm btn-primary shadow-sm"><i class="fas fa-arrow-left"></i> Go Back</a>
        </div>

    <!-- Content Row -->
    <div class="row" style="margin-left: 10em">
        {{ form_start(f, {'method': 'post','action': path('event_create'),'attr': {'novalidate':'novalidate','enctype':'multipart/form-data'}}) }}

            <div class="form-row">
                <div class="form-group col-md-6">
                    <label for="inputEmail4">Name</label>
                    {{ form_widget(f.nameEvt,{'attr': {'class': 'form-control', 'placeholder': 'Event Name'} }) }}
                    {{ form_errors(f.nameEvt) }}
                </div>
                <div class="form-group col-md-6">
                    <label for="inputPassword4">Organizator</label>
                    {{ form_widget(f.organizatorEvt,{'attr': {'class': 'form-control', 'placeholder': 'Organizator Name'} }) }}
                    {{ form_errors(f.organizatorEvt) }}
                </div>
            </div>
            <div class="form-group">
                <label for="inputAddress">Location</label>
                {{ form_widget(f.locationEvt,{'attr': {'class': 'form-control', 'placeholder': 'Event Location'} }) }}
                {{ form_errors(f.locationEvt) }}
            </div>
        <div class="form-row">
            <div class="form-group col-md-6">
                <label for="inputEmail4">Budget</label>
                {{ form_widget(f.budgetEvt,{'attr': {'class': 'form-control', 'placeholder': 'Event Budget'} }) }}
                {{ form_errors(f.budgetEvt) }}
            </div>
            <div class="form-group col-md-6">
                <label for="inputPassword4">Details</label>
                {{ form_widget(f.detailsEvt,{'attr': {'class': 'form-control', 'placeholder': 'Event Details'} }) }}
                {{ form_errors(f.detailsEvt) }}
            </div>
        </div>
            <div class="form-row">
                <div class="form-group col-md-6">
                    <label for="inputCity">Date</label>
            <input type="date" class="form-control" id="inputDate" name="date" required="required" >
                    <span id="errornameD"></span>
                </div>
                <div class="form-group col-md-4">
                    <label for="inputState">Image</label>
                    <div class="custom-file">
                        <input type="file" required="required"  class="custom-file-input" id="f1" name="url" >
                        <label id="file-text" class="custom-file-label" for="customFile">Choose Image &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label>
                        <span id="errorname"></span>
                    </div>
                </div>
                <div class="form-group ">
                <label for="time">Time</label>
                 {{ form_widget(f.timeEvt,{'attr': {'class': 'form-control'} }) }}
                </div>

            </div>

        <input type="submit" class="btn btn-primary" onclick="return foo()">

        {{ form_end(f) }}




        <script type="text/javascript">
            function foo() {
                var f = document.getElementById("f1");
                var errorMessage = document.getElementById('errorname');

                if ("" == f.value) {
                    errorMessage.innerHTML = 'Please Select a File';
                }

                var date = document.getElementById("inputDate").value;
                var errorMessageD = document.getElementById('errornameD');
                var myDate = new Date(date);
                var today= new Date();

                if ((new Date(today.getFullYear(), today.getMonth(), today.getDate()+7)) >myDate) {
                    errorMessageD.innerHTML = 'Please Select a Date after 7 days from today';
                    return false ;
                }
            }

            window.onload= function () {
                var today= new Date();
                document.getElementById('inputDate').valueAsDate = new Date(today.getFullYear(), today.getMonth(), today.getDate()+8);
            }

        </script>




    <!-- Div Zeyda ama khaleha -->
    </div>

    <script type="text/javascript">

    </script>
{% endblock %}